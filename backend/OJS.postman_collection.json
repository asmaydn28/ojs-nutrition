{
  "info": {
    "_postman_id": "ojs-nutrition-api",
    "name": "OJS Nutrition API",
    "description": "OJS Nutrition E-Commerce Backend API\n\n## √ñzellikler\n- JWT Authentication (Access + Refresh Token)\n- CBAC (Claims-Based Access Control) Yetkilendirme\n- Otomatik Token Y√∂netimi\n- Otomatik ID Y√∂netimi\n\n## Roller\n- **ADMIN**: T√ºm yetkiler\n- **MODERATOR**: √úr√ºn/kategori y√∂netimi, sipari≈ü g√∂r√ºnt√ºleme\n- **USER**: Kendi profili, sepeti, sipari≈üleri\n\n## Kullanƒ±m\n1. Register veya Login ile giri≈ü yapƒ±n\n2. Token'lar otomatik kaydedilir\n3. Diƒüer isteklerde otomatik kullanƒ±lƒ±r",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000/api",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "categoryId",
      "value": "",
      "type": "string"
    },
    {
      "key": "productId",
      "value": "",
      "type": "string"
    },
    {
      "key": "productSlug",
      "value": "",
      "type": "string"
    },
    {
      "key": "photoId",
      "value": "",
      "type": "string"
    },
    {
      "key": "commentId",
      "value": "",
      "type": "string"
    },
    {
      "key": "cartItemId",
      "value": "",
      "type": "string"
    },
    {
      "key": "orderId",
      "value": "",
      "type": "string"
    },
    {
      "key": "roleId",
      "value": "",
      "type": "string"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{accessToken}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "üîê Auth",
      "description": "Kimlik doƒürulama i≈ülemleri",
      "item": [
        {
          "name": "Register",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.accessToken) {",
                  "        pm.collectionVariables.set('accessToken', response.data.accessToken);",
                  "    }",
                  "    if (response.data && response.data.refreshToken) {",
                  "        pm.collectionVariables.set('refreshToken', response.data.refreshToken);",
                  "    }",
                  "    if (response.data && response.data.user && response.data.user.id) {",
                  "        pm.collectionVariables.set('userId', response.data.user.id);",
                  "    }",
                  "    pm.test('Registration successful', function() {",
                  "        pm.expect(response.success).to.be.true;",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"Test\",\n  \"lastName\": \"User\",\n  \"username\": \"testuser\",\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            },
            "description": "Yeni kullanƒ±cƒ± kaydƒ± olu≈üturur.\n\nOtomatik olarak USER rol√º atanƒ±r."
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.accessToken) {",
                  "        pm.collectionVariables.set('accessToken', response.data.accessToken);",
                  "    }",
                  "    if (response.data && response.data.refreshToken) {",
                  "        pm.collectionVariables.set('refreshToken', response.data.refreshToken);",
                  "    }",
                  "    if (response.data && response.data.user && response.data.user.id) {",
                  "        pm.collectionVariables.set('userId', response.data.user.id);",
                  "    }",
                  "    pm.test('Login successful', function() {",
                  "        pm.expect(response.success).to.be.true;",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Kullanƒ±cƒ± giri≈üi yapar.\n\nToken'lar otomatik kaydedilir."
          }
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.accessToken) {",
                  "        pm.collectionVariables.set('accessToken', response.data.accessToken);",
                  "    }",
                  "    if (response.data && response.data.refreshToken) {",
                  "        pm.collectionVariables.set('refreshToken', response.data.refreshToken);",
                  "    }",
                  "    pm.test('Token refreshed', function() {",
                  "        pm.expect(response.success).to.be.true;",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "refresh"]
            },
            "description": "Access token'ƒ± yeniler.\n\nRefresh token kullanarak yeni access token alƒ±r."
          }
        },
        {
          "name": "Get Me",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.collectionVariables.set('userId', response.data.id);",
                  "    }",
                  "    pm.test('User info retrieved', function() {",
                  "        pm.expect(response.success).to.be.true;",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "me"]
            },
            "description": "Giri≈ü yapan kullanƒ±cƒ±nƒ±n bilgilerini getirir."
          }
        },
        {
          "name": "Get My Permissions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/permissions",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "permissions"]
            },
            "description": "Giri≈ü yapan kullanƒ±cƒ±nƒ±n t√ºm yetkilerini ve rollerini getirir."
          }
        },
        {
          "name": "Logout",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    pm.test('Logout successful', function() {",
                  "        pm.expect(pm.response.json().success).to.be.true;",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "logout"]
            },
            "description": "Mevcut oturumdan √ßƒ±kƒ±≈ü yapar."
          }
        },
        {
          "name": "Logout All",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    pm.collectionVariables.set('accessToken', '');",
                  "    pm.collectionVariables.set('refreshToken', '');",
                  "    pm.test('Logout all successful', function() {",
                  "        pm.expect(pm.response.json().success).to.be.true;",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/logout-all",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "logout-all"]
            },
            "description": "T√ºm oturumlardan √ßƒ±kƒ±≈ü yapar."
          }
        }
      ]
    },
    {
      "name": "üë§ Users",
      "description": "Kullanƒ±cƒ± y√∂netimi i≈ülemleri\n\n**Gerekli Yetkiler:**\n- READ_ANY: T√ºm kullanƒ±cƒ±larƒ± g√∂rme\n- READ_OWN: Kendi profilini g√∂rme\n- UPDATE_OWN/ANY: G√ºncelleme",
      "item": [
        {
          "name": "Get All Users",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.length > 0) {",
                  "        pm.collectionVariables.set('userId', response.data[0].id);",
                  "    }",
                  "    pm.test('Users retrieved', function() {",
                  "        pm.expect(response.success).to.be.true;",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            },
            "description": "T√ºm kullanƒ±cƒ±larƒ± listeler.\n\n**Yetki:** users:read:any"
          }
        },
        {
          "name": "Get User By ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            },
            "description": "ID ile kullanƒ±cƒ± getirir.\n\n**Yetki:** users:read:own veya users:read:any"
          }
        },
        {
          "name": "Update User",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"Updated\",\n  \"lastName\": \"Name\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            },
            "description": "Kullanƒ±cƒ± bilgilerini g√ºnceller.\n\n**Yetki:** users:update:own veya users:update:any"
          }
        },
        {
          "name": "Get User Roles",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.roles && response.data.roles.length > 0) {",
                  "        pm.collectionVariables.set('roleId', response.data.roles[0].id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/roles",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "roles"]
            },
            "description": "Kullanƒ±cƒ±nƒ±n rollerini getirir.\n\n**Yetki:** roles:read"
          }
        },
        {
          "name": "Assign Role to User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"roleId\": \"{{roleId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/roles",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "roles"]
            },
            "description": "Kullanƒ±cƒ±ya rol atar.\n\n**Yetki:** roles:assign"
          }
        },
        {
          "name": "Remove Role from User",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/roles/{{roleId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "roles", "{{roleId}}"]
            },
            "description": "Kullanƒ±cƒ±dan rol kaldƒ±rƒ±r.\n\n**Yetki:** roles:assign"
          }
        },
        {
          "name": "Get User Permissions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}/permissions",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}", "permissions"]
            },
            "description": "Kullanƒ±cƒ±nƒ±n t√ºm yetkilerini getirir.\n\n**Yetki:** roles:read"
          }
        }
      ]
    },
    {
      "name": "üîë Roles & Permissions",
      "description": "Rol ve yetki y√∂netimi (CBAC)\n\n**Not:** Sadece ADMIN bu i≈ülemleri yapabilir.",
      "item": [
        {
          "name": "Get All Permissions (Public)",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/roles/permissions",
              "host": ["{{baseUrl}}"],
              "path": ["roles", "permissions"]
            },
            "description": "Sistemdeki t√ºm mevcut permission'larƒ± listeler.\n\n**Auth:** Gerekli deƒüil (Public)"
          }
        },
        {
          "name": "Get All Roles",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.length > 0) {",
                  "        pm.collectionVariables.set('roleId', response.data[0].id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/roles",
              "host": ["{{baseUrl}}"],
              "path": ["roles"]
            },
            "description": "T√ºm rolleri listeler.\n\n**Yetki:** roles:read"
          }
        },
        {
          "name": "Get Role By ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/roles/{{roleId}}",
              "host": ["{{baseUrl}}"],
              "path": ["roles", "{{roleId}}"]
            },
            "description": "Rol detayƒ±nƒ± getirir.\n\n**Yetki:** roles:read"
          }
        },
        {
          "name": "Create Role",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.collectionVariables.set('roleId', response.data.id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"CUSTOM_ROLE\",\n  \"permissions\": [\n    \"products:read\",\n    \"categories:read\",\n    \"comments:read\",\n    \"comments:create\"\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/roles",
              "host": ["{{baseUrl}}"],
              "path": ["roles"]
            },
            "description": "Yeni rol olu≈üturur.\n\n**Yetki:** roles:create"
          }
        },
        {
          "name": "Update Role",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"UPDATED_ROLE\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/roles/{{roleId}}",
              "host": ["{{baseUrl}}"],
              "path": ["roles", "{{roleId}}"]
            },
            "description": "Rol adƒ±nƒ± g√ºnceller.\n\n**Yetki:** roles:update"
          }
        },
        {
          "name": "Delete Role",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/roles/{{roleId}}",
              "host": ["{{baseUrl}}"],
              "path": ["roles", "{{roleId}}"]
            },
            "description": "Rol√º siler.\n\n**Not:** ADMIN, MODERATOR, USER rolleri silinemez.\n\n**Yetki:** roles:delete"
          }
        },
        {
          "name": "Add Permission to Role",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"permissionKey\": \"orders:read:own\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/roles/{{roleId}}/permissions",
              "host": ["{{baseUrl}}"],
              "path": ["roles", "{{roleId}}", "permissions"]
            },
            "description": "Role yeni permission ekler.\n\n**Yetki:** roles:update"
          }
        },
        {
          "name": "Remove Permission from Role",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/roles/{{roleId}}/permissions/orders:read:own",
              "host": ["{{baseUrl}}"],
              "path": ["roles", "{{roleId}}", "permissions", "orders:read:own"]
            },
            "description": "Role'den permission kaldƒ±rƒ±r.\n\n**Yetki:** roles:update"
          }
        }
      ]
    },
    {
      "name": "üìÅ Categories",
      "description": "Kategori y√∂netimi\n\n**Public:** Listeleme ve g√∂r√ºnt√ºleme\n**Protected:** Olu≈üturma, g√ºncelleme, silme",
      "item": [
        {
          "name": "Get All Categories",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.length > 0) {",
                  "        pm.collectionVariables.set('categoryId', response.data[0].id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/categories",
              "host": ["{{baseUrl}}"],
              "path": ["categories"]
            },
            "description": "T√ºm kategorileri listeler.\n\n**Auth:** Gerekli deƒüil (Public)"
          }
        },
        {
          "name": "Get Category By ID",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/categories/{{categoryId}}",
              "host": ["{{baseUrl}}"],
              "path": ["categories", "{{categoryId}}"]
            },
            "description": "ID ile kategori getirir.\n\n**Auth:** Gerekli deƒüil (Public)"
          }
        },
        {
          "name": "Create Category",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.collectionVariables.set('categoryId', response.data.id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Protein Tozu\",\n  \"slug\": \"protein-tozu\",\n  \"order\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/categories",
              "host": ["{{baseUrl}}"],
              "path": ["categories"]
            },
            "description": "Yeni kategori olu≈üturur.\n\n**Yetki:** categories:create"
          }
        },
        {
          "name": "Update Category",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Whey Protein\",\n  \"order\": 2\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/categories/{{categoryId}}",
              "host": ["{{baseUrl}}"],
              "path": ["categories", "{{categoryId}}"]
            },
            "description": "Kategori g√ºnceller.\n\n**Yetki:** categories:update"
          }
        },
        {
          "name": "Delete Category",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/categories/{{categoryId}}",
              "host": ["{{baseUrl}}"],
              "path": ["categories", "{{categoryId}}"]
            },
            "description": "Kategori siler.\n\n**Yetki:** categories:delete"
          }
        }
      ]
    },
    {
      "name": "üì¶ Products",
      "description": "√úr√ºn y√∂netimi\n\n**Public:** Listeleme ve g√∂r√ºnt√ºleme (filtreleme destekli)\n**Protected:** Olu≈üturma, g√ºncelleme, silme",
      "item": [
        {
          "name": "Get All Products",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.length > 0) {",
                  "        pm.collectionVariables.set('productId', response.data[0].id);",
                  "        pm.collectionVariables.set('productSlug', response.data[0].slug);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products",
              "host": ["{{baseUrl}}"],
              "path": ["products"]
            },
            "description": "T√ºm √ºr√ºnleri listeler.\n\n**Auth:** Gerekli deƒüil (Public)"
          }
        },
        {
          "name": "Get Products with Filters",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products?categoryId={{categoryId}}&min_price=100&max_price=500&min_rating=3&sort=price:asc&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["products"],
              "query": [
                {
                  "key": "categoryId",
                  "value": "{{categoryId}}",
                  "description": "Kategoriye g√∂re filtre"
                },
                {
                  "key": "min_price",
                  "value": "100",
                  "description": "Minimum fiyat"
                },
                {
                  "key": "max_price",
                  "value": "500",
                  "description": "Maksimum fiyat"
                },
                {
                  "key": "min_rating",
                  "value": "3",
                  "description": "Minimum puan"
                },
                {
                  "key": "sort",
                  "value": "price:asc",
                  "description": "Sƒ±ralama: price:asc, price:desc, rating:asc, rating:desc, createdAt:asc, createdAt:desc"
                },
                {
                  "key": "page",
                  "value": "1",
                  "description": "Sayfa numarasƒ±"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Sayfa ba≈üƒ± √ºr√ºn sayƒ±sƒ±"
                }
              ]
            },
            "description": "Filtreleme ve sayfalama ile √ºr√ºn listesi.\n\n**Filtreler:**\n- categoryId: Kategori ID\n- min_price/max_price: Fiyat aralƒ±ƒüƒ±\n- min_rating: Minimum puan\n- sort: price:asc, price:desc, rating:asc, rating:desc, createdAt:asc, createdAt:desc\n- page, limit: Sayfalama"
          }
        },
        {
          "name": "Get Product By ID",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/{{productId}}",
              "host": ["{{baseUrl}}"],
              "path": ["products", "{{productId}}"]
            },
            "description": "ID ile √ºr√ºn getirir.\n\n**Auth:** Gerekli deƒüil (Public)"
          }
        },
        {
          "name": "Get Product By Slug",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/slug/{{productSlug}}",
              "host": ["{{baseUrl}}"],
              "path": ["products", "slug", "{{productSlug}}"]
            },
            "description": "Slug ile √ºr√ºn getirir.\n\n**Auth:** Gerekli deƒüil (Public)"
          }
        },
        {
          "name": "Create Product",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.collectionVariables.set('productId', response.data.id);",
                  "        pm.collectionVariables.set('productSlug', response.data.slug);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"categoryId\": \"{{categoryId}}\",\n  \"name\": \"Whey Protein 2kg\",\n  \"slug\": \"whey-protein-2kg\",\n  \"shortExplanation\": \"Premium kalite whey protein\",\n  \"longExplanation\": \"Y√ºksek kaliteli whey protein konsantresi. Her serviste 24g protein i√ßerir.\",\n  \"price\": 599.99,\n  \"stockQuantity\": 100\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products",
              "host": ["{{baseUrl}}"],
              "path": ["products"]
            },
            "description": "Yeni √ºr√ºn olu≈üturur.\n\n**Yetki:** products:create"
          }
        },
        {
          "name": "Update Product",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Whey Protein 2.5kg\",\n  \"price\": 649.99,\n  \"stockQuantity\": 150\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products/{{productId}}",
              "host": ["{{baseUrl}}"],
              "path": ["products", "{{productId}}"]
            },
            "description": "√úr√ºn g√ºnceller.\n\n**Yetki:** products:update"
          }
        },
        {
          "name": "Delete Product",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/{{productId}}",
              "host": ["{{baseUrl}}"],
              "path": ["products", "{{productId}}"]
            },
            "description": "√úr√ºn siler.\n\n**Yetki:** products:delete"
          }
        }
      ]
    },
    {
      "name": "üì∑ Product Photos",
      "description": "√úr√ºn fotoƒürafƒ± y√∂netimi\n\n**√ñzellikler:**\n- Otomatik sƒ±ralama\n- Birincil fotoƒüraf y√∂netimi\n- Cascade silme",
      "item": [
        {
          "name": "Get Photo By ID",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/product-photos/{{photoId}}",
              "host": ["{{baseUrl}}"],
              "path": ["product-photos", "{{photoId}}"]
            },
            "description": "ID ile fotoƒüraf getirir.\n\n**Auth:** Gerekli deƒüil (Public)"
          }
        },
        {
          "name": "Create Product Photo",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.collectionVariables.set('photoId', response.data.id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productId\": \"{{productId}}\",\n  \"url\": \"https://example.com/photo1.jpg\",\n  \"size\": 102400\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/product-photos",
              "host": ["{{baseUrl}}"],
              "path": ["product-photos"]
            },
            "description": "√úr√ºne fotoƒüraf ekler.\n\n**Not:** ƒ∞lk fotoƒüraf otomatik birincil olur.\n\n**Yetki:** product-photos:create"
          }
        },
        {
          "name": "Update Product Photo",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isPrimary\": true,\n  \"order\": 1\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/product-photos/{{photoId}}",
              "host": ["{{baseUrl}}"],
              "path": ["product-photos", "{{photoId}}"]
            },
            "description": "Fotoƒüraf g√ºnceller (sƒ±ra, birincil).\n\n**Yetki:** product-photos:update"
          }
        },
        {
          "name": "Delete Product Photo",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/product-photos/{{photoId}}",
              "host": ["{{baseUrl}}"],
              "path": ["product-photos", "{{photoId}}"]
            },
            "description": "Fotoƒüraf siler.\n\n**Yetki:** product-photos:delete"
          }
        }
      ]
    },
    {
      "name": "üí¨ Comments",
      "description": "√úr√ºn yorumu y√∂netimi\n\n**Public:** Listeleme ve g√∂r√ºnt√ºleme\n**Protected:** Olu≈üturma, g√ºncelleme, silme\n\n**Ownership:** Kullanƒ±cƒ± sadece kendi yorumunu d√ºzenleyebilir (MODERATOR hari√ß)",
      "item": [
        {
          "name": "Get All Comments",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.length > 0) {",
                  "        pm.collectionVariables.set('commentId', response.data[0].id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/comments",
              "host": ["{{baseUrl}}"],
              "path": ["comments"]
            },
            "description": "T√ºm yorumlarƒ± listeler.\n\n**Auth:** Gerekli deƒüil (Public)"
          }
        },
        {
          "name": "Get Comments with Filters",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/comments?product_id={{productId}}&rating=5",
              "host": ["{{baseUrl}}"],
              "path": ["comments"],
              "query": [
                {
                  "key": "product_id",
                  "value": "{{productId}}",
                  "description": "√úr√ºne g√∂re filtre"
                },
                {
                  "key": "rating",
                  "value": "5",
                  "description": "Puana g√∂re filtre (1-5)"
                }
              ]
            },
            "description": "Filtreleme ile yorum listesi."
          }
        },
        {
          "name": "Get Comment By ID",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/comments/{{commentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["comments", "{{commentId}}"]
            },
            "description": "ID ile yorum getirir.\n\n**Auth:** Gerekli deƒüil (Public)"
          }
        },
        {
          "name": "Create Comment",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.collectionVariables.set('commentId', response.data.id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productId\": \"{{productId}}\",\n  \"title\": \"Harika √ºr√ºn!\",\n  \"content\": \"√áok kaliteli bir √ºr√ºn, tavsiye ederim.\",\n  \"rating\": 5\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/comments",
              "host": ["{{baseUrl}}"],
              "path": ["comments"]
            },
            "description": "Yeni yorum olu≈üturur.\n\n**Yetki:** comments:create"
          }
        },
        {
          "name": "Update Comment",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"G√ºncellenmi≈ü ba≈ülƒ±k\",\n  \"content\": \"G√ºncellenmi≈ü i√ßerik\",\n  \"rating\": 4\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/comments/{{commentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["comments", "{{commentId}}"]
            },
            "description": "Yorum g√ºnceller.\n\n**Yetki:** comments:update:own veya comments:update:any"
          }
        },
        {
          "name": "Delete Comment",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/comments/{{commentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["comments", "{{commentId}}"]
            },
            "description": "Yorum siler.\n\n**Yetki:** comments:delete:own veya comments:delete:any"
          }
        }
      ]
    },
    {
      "name": "üõí Cart",
      "description": "Sepet y√∂netimi\n\n**Not:** Kullanƒ±cƒ± sadece kendi sepetini y√∂netebilir.\n\n**√ñzellikler:**\n- Stok kontrol√º\n- Aynƒ± √ºr√ºnden birden fazla ekleme (miktar g√ºncelleme)",
      "item": [
        {
          "name": "Get Cart Items",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.length > 0) {",
                  "        pm.collectionVariables.set('cartItemId', response.data[0].id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/cart-items",
              "host": ["{{baseUrl}}"],
              "path": ["cart-items"]
            },
            "description": "Sepetteki √ºr√ºnleri listeler.\n\n**Yetki:** carts:read:own"
          }
        },
        {
          "name": "Get Cart Item By ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/cart-items/{{cartItemId}}",
              "host": ["{{baseUrl}}"],
              "path": ["cart-items", "{{cartItemId}}"]
            },
            "description": "ID ile sepet √∂ƒüesi getirir.\n\n**Yetki:** carts:read:own"
          }
        },
        {
          "name": "Add to Cart",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.collectionVariables.set('cartItemId', response.data.id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"productId\": \"{{productId}}\",\n  \"quantity\": 2\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/cart-items",
              "host": ["{{baseUrl}}"],
              "path": ["cart-items"]
            },
            "description": "Sepete √ºr√ºn ekler.\n\n**Not:** Stok kontrol√º yapƒ±lƒ±r. Aynƒ± √ºr√ºn varsa miktar g√ºncellenir.\n\n**Yetki:** carts:update:own"
          }
        },
        {
          "name": "Update Cart Item",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 3\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/cart-items/{{cartItemId}}",
              "host": ["{{baseUrl}}"],
              "path": ["cart-items", "{{cartItemId}}"]
            },
            "description": "Sepet √∂ƒüesi miktarƒ±nƒ± g√ºnceller.\n\n**Yetki:** carts:update:own"
          }
        },
        {
          "name": "Remove from Cart",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/cart-items/{{cartItemId}}",
              "host": ["{{baseUrl}}"],
              "path": ["cart-items", "{{cartItemId}}"]
            },
            "description": "Sepetten √ºr√ºn siler.\n\n**Yetki:** carts:delete:own"
          }
        },
        {
          "name": "Clear Cart",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/cart-items",
              "host": ["{{baseUrl}}"],
              "path": ["cart-items"]
            },
            "description": "Sepeti tamamen temizler.\n\n**Yetki:** carts:delete:own"
          }
        }
      ]
    },
    {
      "name": "üìã Orders",
      "description": "Sipari≈ü y√∂netimi\n\n**√ñzellikler:**\n- Sepetten sipari≈ü olu≈üturma\n- Stok kontrol√º ve g√ºncelleme\n- Sipari≈ü durumu y√∂netimi\n\n**Durumlar:** PENDING, PAID, SHIPPED, DELIVERED, CANCELLED",
      "item": [
        {
          "name": "Get All Orders",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.length > 0) {",
                  "        pm.collectionVariables.set('orderId', response.data[0].id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/orders",
              "host": ["{{baseUrl}}"],
              "path": ["orders"]
            },
            "description": "Sipari≈üleri listeler.\n\n**USER:** Kendi sipari≈üleri\n**ADMIN/MODERATOR:** T√ºm sipari≈üler\n\n**Yetki:** orders:read:own veya orders:read:any"
          }
        },
        {
          "name": "Get Order By ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/orders/{{orderId}}",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "{{orderId}}"]
            },
            "description": "ID ile sipari≈ü getirir.\n\n**Yetki:** orders:read:own veya orders:read:any"
          }
        },
        {
          "name": "Create Order (from Cart)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.collectionVariables.set('orderId', response.data.id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/orders",
              "host": ["{{baseUrl}}"],
              "path": ["orders"]
            },
            "description": "Sepetten sipari≈ü olu≈üturur.\n\n**ƒ∞≈ülemler:**\n1. Stok kontrol√º\n2. Sipari≈ü ve kalemleri olu≈üturma\n3. Stok g√ºncelleme\n4. Sepeti temizleme\n\n**Yetki:** orders:create:own"
          }
        },
        {
          "name": "Update Order Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"PAID\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/orders/{{orderId}}",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "{{orderId}}"]
            },
            "description": "Sipari≈ü durumunu g√ºnceller.\n\n**Durumlar:** PENDING, PAID, SHIPPED, DELIVERED, CANCELLED\n\n**Yetki:** orders:update:own veya orders:update:any"
          }
        }
      ]
    }
  ]
}
